
<!DOCTYPE html>
<html>
<head>
<title>分布式实时监控中心</title>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="assets/easyui/themes/default/easyui.css" rel="stylesheet" type="text/css">
<link href="assets/css/retina.min.css" rel="stylesheet">
<link rel="stylesheet" href="assets/styles/color.css"/>
<link rel="stylesheet" href="assets/styles/all.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="assets/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/styles/style.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="assets/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" media="screen" href="assets/css/smartadmin-production.css">
<link rel="shortcut icon" href="img/favicon/favicon.ico" type="image/x-icon">
<link rel="icon" href="img/favicon/favicon.ico" type="image/x-icon">
<style type="text/css">body{overflow:auto}.label-important{background:#ff5454;}.fa-white{color:#fff;}.label{font-weight:inherit;}.fenye{height:50px;border:#000 1px solid;}.newpage a{color:#000;}</style>
</head>
<body style="min-width: 1200px; height:100%;background:#e9ebec;min-height:519px;overflow:hidden;">
<div class="easyui-layout" style="width:100%;height:100%;opacity:1;">
<div data-options="region:'east',split:true" style="width:15%;height:400px;border-left: #000000 1px solid;">
<div class="data-tree-2" id="data-network">
<div class="center-service" style="margin:15px 5px 0 0;padding-left:0;height:292px; width:270px;border-radius:0 0 5px 5px;display: block;">
</div>
<div style="width:10%;height:530px;margin-top:7px;float:left;background:#f7f7f8;">
<div style="color:#000000; line-height:20px;padding-top:138px;padding-left:5px;font-weight: bold;">日志信息</div>
<img src="img/zuixiaohua.png" alt style="margin-top:248px;margin-left:30%">
<img src="img/zuidahua.png" alt="">
<img src="img/youjiao.png" alt="">
</div>
<div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-0" data-widget-editbutton="false" style="background:#e9ebec;width:90%;height:545px;top:5px;float:right;">
<div style="height:532px;width:242px;">
<div class="widget-body" style="height:360px;width:239px !important;">
<table class="table table-bordered" id="addtbody" style="height:350px;width:239px !important;border-collapse: collapse;color: #333;word-break:break-all;">
<thead>
<tr>
<th style="text-align:center;width:35px;">类型</th>
<th style="text-align:center;">对象</th>
<th style="text-align:center;">时间</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div data-options="region:'west',split:true" style="padding:10px;width:16%;height:400px;border-right: #000000 1px solid;">
<div class="easyui-accordion" data-options="fit:true,border:false">
<div id="tree" class="data-tree">
<div class="box">
<div class="box-header" data-original-title>
<h2 style="color:#444;margin:0;"><i class="fa fa-user"></i><span class="break"></span>登录用户的信息
</h2>
</div>
<div class="box-content">
<div class="dd" id="nestable4" style="/*border:#ccc 1px solid;*/padding:10px;margin-top:15px;">
<ol class="dd-list">
<li class="dd-item dd3-item" data-id="19">
<div class="dd-handle dd3-handle"><i class="fa fa-bookmark-o"></i></div>
<div class="dd3-content">Item 19</div>
<ol class="dd-list">
<li class="dd-item dd3-item" data-id="22">
<div class="dd-handle dd3-handle"><i class="fa fa-star-o"></i></div>
<div class="dd3-content">Item77</div>
</li>
<li class="dd-item dd3-item" data-id="23">
<div class="dd-handle dd3-handle"><i class="fa fa-tint"></i></div>
<div class="dd3-content">Item88</div>
</li>
</ol>
</li>
<li class="dd-item dd3-item" data-id="20">
<div class="dd-handle dd3-handle"><i class="fa fa-bullseye"></i></div>
<div class="dd3-content">Item 14</div>
</li>
<li class="dd-item dd3-item" data-id="21">
<div class="dd-handle dd3-handle"><i class="fa fa-reply-all"></i></div>
<div class="dd3-content">Item 20</div>
<ol class="dd-list">
<li class="dd-item dd3-item" data-id="22">
<div class="dd-handle dd3-handle"><i class="fa fa-star-o"></i></div>
<div class="dd3-content">Item 21</div>
<ol class="dd-list">
<li class="dd-item dd3-item" data-id="22">
<div class="dd-handle dd3-handle"><i class="fa fa-star-o"></i></div>
<div class="dd3-content">Item 21</div>
</li>
<li class="dd-item dd3-item" data-id="23">
<div class="dd-handle dd3-handle"><i class="fa fa-tint"></i></div>
<div class="dd3-content">Item 22</div>
</li>
</ol>
</li>
<li class="dd-item dd3-item" data-id="24">
<div class="dd-handle dd3-handle"><i class="fa fa-cut"></i></div>
<div class="dd3-content">Item 23</div>
</li>
</ol>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div data-options="region:'center'" style="width:70% !important;">
<div class="easyui-layout" data-options="fit:true">
<div data-options="region:'north',split:true,border:false" style="border-bottom: #000000 1px solid;margin-top:-25px;height:554px;overflow:hidden;">
<div id="graphic" class="span8" style="width:100% !important;height:100%">
<div class="row">
<div class="col-lg-12">
<div class="box" style="margin:0 30px 0 10px;">
<div class="box-header" data-original-title>
<h2><i class="fa fa-user"></i><span class="break"></span>登录用户的信息</h2>
</div>
<div class="box-content">
 
<table id="table"></table>


</div>

<div class="pagination pagination-centered newpage" style="float:right;margin:0 0 10px 0;">
<ul class="pagination">
</ul>
</div>
</div>
</div>
</div> 
</div> 
</div>
</div>
<div data-options="region:'west',split:true,border:false" style="width:50%;overflow:hidden;">
<div class="row" style="width:100%;height:auto;">
<div style="background:rgb(247,247,248);border:#ccc 1px solid;background-size:cover;width:100%;margin-bottom:1px;height:49px;float:left;">
<p id="z1" style="color: #000;font-size: 15px;left:6px;text-align:center;margin-top:11px;font-weight: bold;">
当前节点的具体信息</p>
</div>
<article>
<div class="jarviswidget" id="wid-id-7" data-widget-editbutton="false">
<div style="height:270px;padding:0;">
<div class="widget-body no-padding">
<div id="site-stats" class="chart has-legend" style="top:-22px;background: #fbfbfb;"></div>
</div>
</div>
</div>
</article>
</div>
</div>
<div data-options="region:'east',split:true,border:false" style="width:50%;overflow:hidden;">
 
<div class="row" style="width:100%;">
<div style="background:rgb(247,247,248);border:#ccc 1px solid;background-size:cover;width:100%;margin-bottom:1px;height:49px;float:left;">
<p style="color: #000;font-size: 15px;left:6px;text-align:center;margin-top:11px;font-weight: bold;">
当前子节点未登录情况</p>
</div>
 
<article>
<div class="jarviswidget" id="wid-id-6" data-widget-editbutton="false" style="height:296px;">
<div style="height:270px">
<div class="widget-body no-padding">
<div id="bar-chart" class="chart" style="top:-14px;background: #fbfbfb;"></div>
</div>
</div>
</div>
</article>
</div>
 
</div>
</div>
</div>
</div>
<script type="text/javascript" src="assets/easyui/jquery.min.js"></script>
<script type="text/javascript" src="assets/easyui/jquery.easyui.min.js"></script>
<script src="js/Analysis.js"></script>
<script src="js/bootstrap/bootstrap.min.js"></script>
<script src="js/app.js"></script>
<script type="text/javascript" src="assets/js/echarts-all.js"></script>
<script src="assets/js/custom.min.js"></script>
<script src="assets/js/core.min.js"></script>
<script src="assets/js/jquery.nestable.min.js"></script>
<script src="assets/js/pages/ui-nestable-list.js"></script>
<script src="assets/js/jquery.sparkline.min.js"></script>
<script src="assets/js/jquery.dataTables.min.js"></script>
<script src="assets/js/dataTables.bootstrap.min.js"></script>
<script src="assets/js/pages/table.js"></script>
<script type="text/javascript">

var init = "All"; /*Should return all entries*/
tablegen(init);



</script>
<script>

    var perPage = 7;//每页显示7条

    var totalItem = $('.newpage-tbody').children().length;

    var totalPage = Math.ceil(totalItem/perPage);



    if(totalPage<2){

        var pageNum = '<li><a href="javascript:void(0);">上一页</a></li>'+

                '<li class="active"><a href="javascript:void(0);">1</a></li>'+

                '<li><a href="javascript:void(0);">下一页</a></li>';

        $('.newpage').append(pageNum);

    }else{

        for(var i=1;i<=totalItem;i++){

            var ItemPage = Math.ceil(i/perPage);

            $('.newpage-table tr').eq(i).addClass(ItemPage.toString()).css('display','none');

        }



        var pageNum = '<li><a href="javascript:void(0);">上一页</a></li>'+

                '<li><a href="javascript:void(0);">1</a></li>';

        for(var i=2; i<=totalPage; i++){

            pageNum += '<li><a href="javascript:void(0);">'+ i +'</a></li>';

        }

        pageNum += '<li><a href="javascript:void(0);">下一页</a></li>';

        $('.newpage').append(pageNum);



        $('.newpage li:eq(1)').addClass('active');

        $('.1').css('display','');

    }

    $('.newpage a').click(function(){

        var currentPage = $(this).html();

        var lastPage = $('.newpage li.active a').html();console.log(lastPage);

        $('.newpage').children().removeClass('active');

        if(currentPage == '上一页'){

            if(parseInt(lastPage)<=1){

                currentPage = parseInt(lastPage);

            }else{

                currentPage = parseInt(lastPage)-1;

            }

        }else if(currentPage == '下一页'){

            if(parseInt(lastPage)>=($('.newpage li').length-2)){

                currentPage = parseInt(lastPage);

            }else{

                currentPage = parseInt(lastPage)+1;

            }

        }

        $('.newpage li:eq('+currentPage +')').addClass('active');

        $('.newpage-tbody tr').css('display', 'none');

        var $current = $('.' + currentPage);

        $current.css('display', '');

    });





    var myChart = echarts.init(document.getElementById('site-stats'));

    getStatisContent(0);

    option = {

        title : {

            text: '当前节点的具体信息',

            x:'center'

        },

        tooltip : {

            trigger: 'item',

            formatter: "{a} <br/>{b} : {c} ({d}%)"

        },

        legend: {

            orient : 'vertical',

            x : 'left',

            data:['未登录','已登录']

        },

        toolbox: {

            show : true,

            feature : {

                dataView : {show: true, readOnly: false},

                magicType : {

                    show: true,

                    type: ['pie', 'funnel'],

                    option: {

                        funnel: {

                            x: '25%',

                            width: '50%',

                            funnelAlign: 'left',

                            max: 1548

                        }

                    }

                },

                saveAsImage : {show: true}

            }

        },

        calculable : true,

        series : [

            {

                name:'登录情况',

                type:'pie',

                radius : '55%',

                center: ['50%', '60%'],

                data:[

                    {value:300, name:'未登录'},

                    {value:100, name:'已登录'}

                ]

            }

        ]

    };

    //alert(mper);

    //alert(nper);

    option.series[0].data[0].value=mper;

    option.series[0].data[1].value=nper;

    myChart.setOption(option);

    var myChart = echarts.init(document.getElementById('bar-chart'));

    option1 = {

        title : {

            text: '当前子节点未登录情况',

            x:'center'

        },

        tooltip : {

            trigger: 'axis'

        },

        toolbox: {

            show : true,

            feature : {

                dataView : {show: true, readOnly: false},

                magicType: {show: true, type: ['line', 'bar']},

                saveAsImage : {show: true}

            }

        },

        calculable : true,

        xAxis : [

            {

                type : 'value',

                boundaryGap : [0, 0.01]

            }

        ],

        yAxis : [

            {

                type : 'category',

                data : ['节点1','节点2','节点3','节点4','节点5','节点6']

            }

        ],

        series : [

            {

                //name:'2011年',

                type:'bar',

                data:[18203, 23489, 29034, 104970, 131744, 230230]

            }

        ]

    };

    for(var j=0;j<orgname.length;j++){

			option1.yAxis[0].data[j]=orgname[j];

			option1.series[0].data[j]=orgnum[j];

		}

    myChart.setOption(option1);

    

    

    



</script>
<script>

	function showDevice(str)

	{

		var xmlhttp;

		if(str=="")

		{

			document.getElementById("txtHint").innerHTML="";

			return;

		}

		if(window.XMLHttpRequest)

		{

			xmlhttp = new XMLHttpRequest();

		}

		else

			{

				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");

			}

			xmlhttp.onreadystatechange=function()

			{

				if(xmlhttp.readyState==4 && xmlhttp.status==200)

				{

					document.getElementById("txtHint").innerHTML=xmlhttp.responseText;

				}

			}

			xml.open("GET","getcustomer.asp?q="+str,true);

			xmlhttp.send();

		}

	</script>
</body>
</html>